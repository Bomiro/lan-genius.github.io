function subBefore(r,e,n){for(var t=0;t<=r.length-e.length;t++)if(r.substring(t,t+e.length)==e)return r.substring(0,t);return n}function subAfter(r,e,n){for(var t=0;t<=r.length-e.length;t++)if(r.substring(t,t+e.length)==e)return r.substring(t+e.length);return n}function parseQuery(r){var e={},n=subAfter(r,"?","");if(""==n)return e;for(var t=n.split("&"),u=0;u<t.length;u++){var f=t[u],s=subBefore(f,"=","");if(""!=s){s=decodeURIComponent(s);var o=subAfter(f,"=","");""!=o&&(o=decodeURIComponent(o),e[s]=o)}}return e}